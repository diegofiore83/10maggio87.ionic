<ion-view view-title="Bacheca" ng-cloak>
    <ion-content>
        <ion-refresher on-refresh="getNews(newsLoaded)"
                       pulling-text="Aggiorna"
                       refreshing-text="Caricamento ..."
                       refreshing-icon="ion-loading-c">
        </ion-refresher>
        <div class="card with-title">
            <div class="item card-title">
                <h2 class="text-center">Video</h2>
            </div>
            <video controls="controls" preload="none" webkit-playsinline="webkit-playsinline" class="videoPlayer" poster="https://scontent.xx.fbcdn.net/v/t15.0-10/p128x128/14299334_881527225310861_1190525434_n.jpg?oh=0409db699abe8bc11abc68491020c245&oe=5875579A" style="max-width: 100%; width: 100%; height: auto; padding: 1px;">
                <source src="https://video.xx.fbcdn.net/v/t43.1792-2/14294535_1703455023311505_1828615408_n.mp4?efg=eyJybHIiOjE1MDAsInJsYSI6NDA5NiwidmVuY29kZV90YWciOiJzdmVfaGQifQ%3D%3D&rl=1500&vabr=721&oh=e030d0d7025528ff0afca6a6045e6fb1&oe=57E0D907" type="video/mp4" />
            </video>
        </div>

        <div class="card with-title" ng-if="match && !showEvent">
            <div class="item card-title">
                <h2 class="text-center">Ultima Partita</h2>
            </div>
            <ion-item class="item-match" ng-href="#/app/match/{{match.Id}}">
                <span class="item-match-teams text-left">{{match.Teams}}</span>
                <span class="item-match-date text-left">{{match.Date | date:'EEEE d MMMM yyyy'}}{{ {true: '', false: ' - ore ' + (match.Time | date:'HH:mm')}[(match.Time | date:'HH:mm') == '00:00'] }}</span>
                <img class="item-match-logo-opponent" ng-src="http://www.10maggio87.it/Images/Assets/Loghi/Squadre/{{match.Opponent}}.png" />
                <span class="item-match-result text-center" ng-if="match.Result != ''">{{match.Result}}</span>
                <img class="item-match-logo-competition" ng-src="http://www.10maggio87.it/Images/Assets/Loghi/Mini/{{match.Competition.split(' ').join('_')}}.png" />
            </ion-item>
        </div>
        <div class="card with-title event-container" ng-if="event && showEvent">
            <div class="item card-title">
                <h2 class="text-center">Prossimo Evento</h2>
            </div>
            <div class="item item-text-wrap item-event">
                <a ng-href="#/app/events">
                    <div class="event-preview">
                        <p class="item-channel text-center">{{event.Date | dayFilter}}</p>
                        <h2 class="text-justify">{{event.Title}}</h2>
                        <p class="item-info-event text-center">{{event.Tag}}</p>
                        <p class="item-info-event text-center">{{event.Channel}}</p>
                    </div>
                    <div class="image-preview" ng-style="{'background-image': 'url(' + event.Image + ')'}"></div>
                </a>
            </div>
        </div>
        <div class="card with-title">
            <div class="item card-title">
                <h2 class="text-center">Ultime Notizie</h2>
            </div>
            <ul class="list">
                <li class="item item-text-wrap item-news-card" ng-repeat="news in newsList">
                    <a ng-href="#/app/news/id/{{news.Id}}">
                        <div>
                            <img class="item-photo-news" ng-src="{{news.NewsImage}}" />
                            <img class="item-source" ng-src="http://www.10maggio87.it/Images/Assets/Loghi/Fonti/{{news.Source}}.png" />
                        </div>
                        <h2 class="text-center">{{news.Title}}</h2>
                    </a>
                </li>
            </ul>
        </div>
        <div class="button-bar button-filter">
            <a class="button button-assertive button-full" ng-show="newsList.length == newsLoaded" ng-click="getNews(newsLoaded + 10)">Altre notizie</a>
        </div>
    </ion-content>
</ion-view>